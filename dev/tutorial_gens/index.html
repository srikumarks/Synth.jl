<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Musical processes · Synth Docs</title><meta name="title" content="Musical processes · Synth Docs"/><meta property="og:title" content="Musical processes · Synth Docs"/><meta property="twitter:title" content="Musical processes · Synth Docs"/><meta name="description" content="Documentation for Synth Docs."/><meta property="og:description" content="Documentation for Synth Docs."/><meta property="twitter:description" content="Documentation for Synth Docs."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Synth Docs</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><span class="tocitem">Home</span><ul><li><a class="tocitem" href="../">Synth.jl Documentation</a></li><li><a class="tocitem" href="../start/">Getting started</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorial_basic/">Basic tutorial</a></li><li><a class="tocitem" href="../tutorial_synth/">Sampling synthesis</a></li><li class="is-active"><a class="tocitem" href>Musical processes</a><ul class="internal"><li><a class="tocitem" href="#The-bus"><span>The bus</span></a></li><li><a class="tocitem" href="#Gens"><span>Gens</span></a></li></ul></li><li><a class="tocitem" href="../tutorial_signals/">Signal Processes</a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="../basic/">Basic signals</a></li><li><a class="tocitem" href="../stereo/">Stereo signals</a></li><li><a class="tocitem" href="../gen/">Generators</a></li><li><a class="tocitem" href="../music/">For music</a></li><li><a class="tocitem" href="../render/">Rendering</a></li><li><a class="tocitem" href="../rt/">Realtime playback</a></li><li><a class="tocitem" href="../filters/">Filters</a></li><li><a class="tocitem" href="../fx/">Effects</a></li><li><a class="tocitem" href="../tx/">Transformers</a></li><li><a class="tocitem" href="../wt/">Wavetable synthesis</a></li><li><a class="tocitem" href="../gran/">Granular synthesis</a></li><li><a class="tocitem" href="../utils/">Utilities</a></li></ul></li><li><span class="tocitem">Other</span><ul><li><a class="tocitem" href="../design/">Design</a></li><li><a class="tocitem" href="../faq/">FAQ</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Musical processes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Musical processes</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/srikumarks/Synth.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/srikumarks/Synth.jl/blob/main/docs/src/tutorial_gens.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Musical-processes"><a class="docs-heading-anchor" href="#Musical-processes">Musical processes</a><a id="Musical-processes-1"></a><a class="docs-heading-anchor-permalink" href="#Musical-processes" title="Permalink"></a></h1><p>The core of <code>Synth.jl</code> deals with &quot;signal processes&quot; as described on earlier parts. However, purely working at the signal level alone does not make for &quot;music&quot; and we need to be able to orchestrate (a.k.a. &quot;schedule&quot;) signals with appropriate parameterization in order to make interesting noises.</p><p>To do this, <code>Synth.jl</code> defines the <code>Gen</code> abstract type with the only method to implement being <code>proc(::Gen,::Bus,t) :: Tuple{Float64,Gen}</code>.</p><p>Before we get to it, we need to understand the core &quot;signal process&quot; that makes this possible - the <a href="../rt/#Synth.bus"><code>bus</code></a>. </p><h2 id="The-bus"><a class="docs-heading-anchor" href="#The-bus">The bus</a><a id="The-bus-1"></a><a class="docs-heading-anchor-permalink" href="#The-bus" title="Permalink"></a></h2><p>A &quot;bus&quot; is like a reusable (read &quot;supports fanout&quot;) line to which various signal processes can write their values by being &quot;scheduled&quot; on to the bus using <a href="../rt/#Synth.sched"><code>sched</code></a>. You can use a bus with signals alone for its scheduling capabilities like shown below –</p><pre><code class="language-julia hljs">&gt; b = bus()
&gt; play(b, 20)
&gt; sched(b, sinosc(adsr(0.25, 1.0), 440))</code></pre><p>A few things to note here -</p><ol><li><p>We can start playing a bus immediately after creation and it will produce silence until something is scheduled on to it.</p></li><li><p>Signals can be scheduled on to the bus using <a href="../rt/#Synth.sched"><code>sched</code></a> to either be played immediately or at a later time. This &quot;time&quot; is relative to the start of playback of the bus.</p></li><li><p>The intrinsic duration of a bus is infinite - i.e. if you start playing it without an explicit stop time, it will continue forever.</p></li></ol><p>Next, we&#39;ll see how to use the bus in conjunction with <a href="../env/#Synth.Gen"><code>Gen</code></a>.</p><h2 id="Gens"><a class="docs-heading-anchor" href="#Gens">Gens</a><a id="Gens-1"></a><a class="docs-heading-anchor-permalink" href="#Gens" title="Permalink"></a></h2><p>The <code>Gen</code> type abstracts the notion of a &quot;musical process&quot; - a process whose task is to schedule musical events on to a bus and to decide the next musical event to follow. In this sense, <code>Gen</code>s are define to be &quot;temporally recursive&quot;, to use the term introduced by Andrew Sorenson. Such a &quot;musical process&quot; runs at a far lower temporal granularity than a &quot;signal process&quot; – about 60 times a second, compared to the 48000Hz sampling rate. This is fine grained enough for interactivity while the processes can schedule signals in a sample-accurate manner.</p><p>Several simple noise making &quot;musical processes&quot; are available via the <a href="../music/#Synth.tone"><code>tone</code></a> and <a href="../music/#Synth.ping"><code>ping</code></a> and it is easy to make your own by defining a subtype of <code>Gen</code> and implementing the <code>proc(::Gen,::Bus,t) :: Tuple{Float64,Gen}</code> method.</p><p>The <a href="../music/#Synth.tone"><code>tone</code></a> provides a number of constructors that facilitate ease of scheduling notes on a timeline.</p><pre><code class="language-julia hljs">&gt; b = bus()
&gt; play(b, 20)
&gt; trk = track([
         tone(ch([60,64,67]), 1.0),
         tone(ch(12 .+ [60,62,65,69]), 1.0),
         ping(72, 1.0),
         pause(0.5),
         loop(3, ping([67,72], 0.2)),
         tone(12 .+ [60, 62, 64, 65, 67, 69, 71, 72, 71, 69, 67, 65, 64, 62, 60], 1/16)
        ])
&gt; sched(b, trk)</code></pre><p>The above sample illustrates the use of <a href="../music/#Synth.track"><code>track</code></a> to create sequences, <a href="../music/#Synth.tone"><code>tone</code></a> to construct simple pitched tones, <a href="../music/#Synth.ch"><code>ch</code></a> to specify chording, <a href="@ref"><code>pause</code></a> to insert pauses and <a href="../music/#Synth.loop"><code>loop</code></a> to repeat a musical process a set number of times.</p><p>&quot;Chording&quot; refers to playing multiple Gens simultaneously and waiting for all of them to complete before moving on. This is implemented using <a href="../music/#Synth.chord"><code>chord</code></a>, with overloads of <a href="../music/#Synth.tone"><code>tone</code></a> supporting chording via <a href="../music/#Synth.ch"><code>ch</code></a>.</p><h3 id="Making-your-own-musical-process"><a class="docs-heading-anchor" href="#Making-your-own-musical-process">Making your own musical process</a><a id="Making-your-own-musical-process-1"></a><a class="docs-heading-anchor-permalink" href="#Making-your-own-musical-process" title="Permalink"></a></h3><p>While some basic higher order processes like <a href="../music/#Synth.track"><code>track</code></a> and <a href="../music/#Synth.loop"><code>loop</code></a> are available, t is relatively simple to roll your own as you can find from the code. Below is an example of something that plays all the twelve tones of an octave once with an accelerando.</p><pre><code class="language-julia hljs">struct AllToneAccel &lt;: Synth.Gen
    start :: Int
    finish :: Int
    dur :: Float64
end

function proc(g :: AllToneAccel, b :: Bus, t)
    if g.start &gt; g.finish
        (t, Cont()) # Indicates that the gen is done and
                    # the bus must continue with whatever is
                    # to follow, ex: if this is placed in a track.
    else
        # Schedule a tone to be rendered on to the bus at time t.
        sched(b, t, sinosc(adsr(0.25, g.dur), midi2hz(g.start)))

        # Return the next time and the next gen in the sequence.
        (t + g.dur, AllToneAccel(g.start + 1, g.finish, g.dur * 0.9))
    end
end

b = bus(60.0) # 60 beats per minute
play(b, 20)
sched(b, AllToneAccel(60, 84, 1.0))</code></pre><p>Some things to note –</p><ol><li><p>Each proc call decides what comes after as well. This way, we can setup temporal progressions (such as accelerando in the above example) easily.</p></li><li><p>All implemented <code>Gen</code> subtypes are immutable. This is desirable since they can then be reused as simple values across multiple tracks. Since the cost of creating these small structures is very small, new instances can be created when needed, like in the case above where we choose to continue the accelerando.</p></li><li><p>Each bus can be given a clock whose tempo can be varied in real time using another signal or a <a href="../rt/#Synth.control"><code>control</code></a>. This means the tempo of all the events scheduled on the bus can be influenced centrally.</p></li><li><p>A musical process is welcome to return <strong>any other</strong> musical process to follow it. So in that sense, this supports mutual temporal recursion.</p></li></ol><h3 id="Recurrent-musical-processes"><a class="docs-heading-anchor" href="#Recurrent-musical-processes">Recurrent musical processes</a><a id="Recurrent-musical-processes-1"></a><a class="docs-heading-anchor-permalink" href="#Recurrent-musical-processes" title="Permalink"></a></h3><p>It is common to make musical processes that appear to maintain a state and evolve it over time, much like ordinary signal processes. So there are  prebuilt &quot;meta musical processes&quot; that facilitate this.</p><p>The simpler one of them is the <a href="../music/#Synth.dyn"><code>dyn</code></a> which can be given a function that will be called a number of times with an index, with the expectation to return a <code>Gen</code> to schedule. It&#39;s called a &quot;dyn&quot; short for &quot;dynamic&quot; because the specific Gen to use can be decided by the function dynamically. Such a <a href="../music/#Synth.dyn"><code>dyn</code></a> does not explicitly use state, though the function passed can be a closure that modifies its state internally on every call (not recommended).</p><pre><code class="language-julia hljs">b = bus()
play(b, 10)
sched(b, dyn((n,i) -&gt; tone(60+i,0.5), 12, 0))
# Plays rising semitones, two per second.</code></pre><p>The more general recurrent process, called <a href="../music/#Synth.rec"><code>rec</code></a> can be used with functions that need to keep track of state, but without using mutation to do so, so that these Gens can be reused across tracks. Below is the same example above implemented using <a href="../music/#Synth.rec"><code>rec</code></a></p><pre><code class="language-julia hljs">b = bus()
play(b, 10)
semitones(n,i) = begin
    if i &lt; n
        (tone(60+i, 0.5), i+1)
    else
        (Cont(), i+1)
    end
end
sched(b, rec(semitones, 12, 0))</code></pre><p>Both <a href="../music/#Synth.rec"><code>rec</code></a> and <a href="../music/#Synth.dyn"><code>dyn</code></a> are to be considered as &quot;dynamic&quot; because the decision on which Gen to use is made just in time. Hence there is no explicit mention of <code>t</code> in the recurrent function. If you wish to delay the returned Gen by, say, 0.1 seconds, you&#39;ll need to sequence it with a pause like <code>seq(pause(0.1), ...the_gen...)</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial_synth/">« Sampling synthesis</a><a class="docs-footer-nextpage" href="../tutorial_signals/">Signal Processes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Wednesday 29 October 2025 16:13">Wednesday 29 October 2025</span>. Using Julia version 1.12.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
